import{d as oe,c as re,a as p,f as g,s as ie,e as G}from"../chunks/DuDN5BZk.js";import{T as le,A as B,U as ue,h as ce,y as ve,V as de,W as fe,p as me,x as he,c as t,s as c,e as E,f as pe,o as P,i as C,j as _e,X as ye,$ as be,l as o,r as y,u as b,v as ge,w as L}from"../chunks/OjaH-ej1.js";import{i as k}from"../chunks/C2YowYw5.js";import{e as Ie,i as ke,s as Se}from"../chunks/_QM_GkS4.js";import{h as we,t as x,s as D,f as R}from"../chunks/D2j6qb9O.js";import{r as X}from"../chunks/DCpUoXu5.js";import{b as Ee}from"../chunks/BzW1DdYs.js";function z(e,m,T=m){var v=new WeakSet;le(e,"input",async l=>{var i=l?e.defaultValue:e.value;if(i=M(e)?q(i):i,T(i),B!==null&&v.add(B),await ue(),i!==(i=m())){var d=e.selectionStart,n=e.selectionEnd,$=e.value.length;if(e.value=i??"",n!==null){var S=e.value.length;d===n&&n===$&&S>$?(e.selectionStart=S,e.selectionEnd=S):(e.selectionStart=d,e.selectionEnd=Math.min(n,S))}}}),(ce&&e.defaultValue!==e.value||ve(m)==null&&e.value)&&(T(M(e)?q(e.value):e.value),B!==null&&v.add(B)),de(()=>{var l=m();if(e===document.activeElement){var i=fe??B;if(v.has(i))return}M(e)&&l===q(e.value)||e.type==="date"&&!l&&!e.value||l!==e.value&&(e.value=l??"")})}function M(e){var m=e.type;return m==="number"||m==="range"}function q(e){return e===""?null:+e}var xe=g('<button class="cancelButton svelte-1uha8ag"><span class="material-symbols-outlined" translate="no">cancel</span></button>'),Te=g('<div class="session svelte-1uha8ag"><h3> <!></h3></div>'),Be=g('<form><h3>Enter Session Name</h3> <input id="newSessionInput" required type="text" placeholder="Type here"/> <input type="submit" value="Add"/> <button class="cancelButton" title="Cancel"><span class="material-symbols-outlined" translate="no">cancel</span></button> <p>*Session name is case sensitive</p></form>'),$e=g("<h3><i>None selected</i></h3>"),Ae=g('<h3 id="buttons"><button><span title="Add Session" translate="no" class="material-symbols-outlined">add_circle</span></button><button><span title="Confirm Sessions" translate="no" class="material-symbols-outlined">check_circle</span></button></h3> <p>If you wish to see overall user statistics, confirm without selecting any sessions. Use the <span>ESC</span> keybind to confirm, or use the button.</p>',1),De=g('<h4 style="position: absolute; top: 5px; right: 20px"><span style="font-weight: 700" translate="no" class="material-symbols-outlined">lock</span></h4>'),Ve=g(`<div class="field svelte-1uha8ag"><h2>Slack ID</h2> <form><h3>Enter Slack ID</h3> <input required type="text" placeholder="Type here" id="idInput"/> <input type="submit" value="Enter ID"/> <p>If you're not sure what the ID of an user is, use the <i>#what-is-my-slack-id</i> channel!</p></form></div>`),Ne=g('<h1 id="title">AFTONSPARV</h1> <h3 style="font-weight: 200; margin-bottom: 80px;">Hackatime Viewer</h3> <div class="field svelte-1uha8ag"><h2>Hackatime Sessions</h2> <!> <!> <!> <!> <!></div> <!>',1);function Ue(e,m){me(m,!0);let T=E(!1),v=E(!0),l=E(""),i=E(""),d=E(!1);he(()=>{t(d)&&c(v,!1)});let n=E(pe([]));P(function(){setTimeout(()=>{c(T,!0)},100),setTimeout(()=>{document.getElementById("newSessionInput").focus()},200)});function $(){event.preventDefault(),t(n).indexOf(t(l))==-1&&(t(n).push(t(l)),c(l,""),c(v,!1),setTimeout(()=>{c(v,!0)},500),setTimeout(()=>{document.getElementById("newSessionInput").focus(),scrollTo(document.getElementById("newSessionInput").y)},600))}function S(u){let h=[];for(let I=0;I<t(n).length;I++)t(n)[I]!=u&&h.push(t(n)[I]);c(n,h,!0)}function J(){scrollTo(document.getElementById("idInput").y);let u="";if(t(n).length>1)for(let h=0;h<t(n).length;h++)u+=t(n)[h]+"[x]";else t(n).length==1&&(u=t(n)[0]);window.location.href=Ee+"/"+t(i)+"/"+u}P(function(){window.addEventListener("keydown",function(u){u.key=="Escape"&&c(d,!0),this.setTimeout(()=>{this.document.getElementById("idInput").focus(),this.scrollTo(this.document.getElementById("idInput")).y},100)})});var F=re();we("1uha8ag",u=>{ye(()=>{be.title="Aftonsparv"})});var K=C(F);{var Q=u=>{var h=Ne(),I=C(h),A=o(I,4),H=o(y(A),2);Ie(H,17,()=>t(n),ke,(a,s)=>{var r=Te(),f=y(r),_=y(f),w=o(_);{var V=N=>{var j=xe();j.__click=()=>{S(t(s))},p(N,j)};k(w,N=>{t(d)||N(V)})}b(f),b(r),ge(()=>ie(_,`${t(s)??""} `)),x(3,r,()=>D),p(a,r)});var O=o(H,2);{var Y=a=>{var s=Be(),r=o(y(s),2);X(r);var f=o(r,2),_=o(f,2);_.__click=()=>{c(v,!1)},L(2),b(s),G("submit",s,$),z(r,()=>t(l),w=>c(l,w)),x(3,s,()=>D),p(a,s)};k(O,a=>{t(v)&&!t(d)&&a(Y)})}var U=o(O,2);{var Z=a=>{var s=$e();p(a,s)};k(U,a=>{t(n).length==0&&!t(v)&&a(Z)})}var W=o(U,2);{var ee=a=>{var s=Ae(),r=C(s),f=y(r);f.__click=()=>{c(v,!0),setTimeout(()=>{document.getElementById("newSessionInput").focus()},100)};var _=o(f);_.__click=()=>{c(d,!0),setTimeout(()=>{document.getElementById("idInput").focus(),scrollTo(document.getElementById("idInput").y)},100)},b(r);var w=o(r,2),V=o(y(w));Se(V,"",{},{"font-family":"Montserrat, Space Grotesk, Futura","font-weight":"700"}),L(),b(w),p(a,s)};k(W,a=>{t(d)||a(ee)})}var te=o(W,2);{var ae=a=>{var s=De();x(3,s,()=>D,()=>({axis:"x"})),p(a,s)};k(te,a=>{t(d)&&a(ae)})}b(A);var se=o(A,2);{var ne=a=>{var s=Ve(),r=o(y(s),2),f=o(y(r),2);X(f),o(f,2),L(2),b(r),b(s),G("submit",r,J),z(f,()=>t(i),_=>c(i,_)),x(3,s,()=>R,()=>({y:200})),p(a,s)};k(se,a=>{t(d)&&a(ne)})}x(3,I,()=>D),x(3,A,()=>R,()=>({y:200,delay:500})),p(u,h)};k(K,u=>{t(T)&&u(Q)})}p(e,F),_e()}oe(["click"]);export{Ue as component};
