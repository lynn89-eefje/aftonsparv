import"../chunks/DsnmJJEf.js";import{o as W}from"../chunks/Bs2tO7ep.js";import{z as q,Q as ie,R as le,S as ue,U as ce,V as fe,J as A,W as de,a as ve,X as me,Y as he,p as _e,u as pe,g as t,s as d,e as T,h as ye,f as $,i as be,Z as ge,$ as Ie,k as i,o as b,r as g,q as Se,v as C}from"../chunks/SeWqStNZ.js";import{d as ke,i as k,s as Ee,e as Y}from"../chunks/sENNNyzj.js";import{h as we,e as Te,t as x,s as L,i as xe,a as Ae,f as z}from"../chunks/DWx53dAi.js";import{c as Be,a as p,f as I}from"../chunks/BvQwnhtx.js";import{b as Ne}from"../chunks/Bzn-45O-.js";const Le=Symbol("is custom element"),Me=Symbol("is html");function J(e){if(q){var a=!1,v=()=>{if(!a){if(a=!0,e.hasAttribute("value")){var u=e.value;K(e,"value",null),e.value=u}if(e.hasAttribute("checked")){var o=e.checked;K(e,"checked",null),e.checked=o}}};e.__on_r=v,ie(v),le()}}function K(e,a,v,u){var o=De(e);q&&(o[a]=e.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&e.nodeName==="LINK")||o[a]!==(o[a]=v)&&(a==="loading"&&(e[ue]=v),e.removeAttribute(a))}function De(e){return e.__attributes??={[Le]:e.nodeName.includes("-"),[Me]:e.namespaceURI===ce}}function Q(e,a,v=a){var u=new WeakSet;fe(e,"input",async o=>{var c=o?e.defaultValue:e.value;if(c=O(e)?V(c):c,v(c),A!==null&&u.add(A),await de(),c!==(c=a())){var h=e.selectionStart,r=e.selectionEnd,B=e.value.length;if(e.value=c??"",r!==null){var E=e.value.length;h===r&&r===B&&E>B?(e.selectionStart=E,e.selectionEnd=E):(e.selectionStart=h,e.selectionEnd=Math.min(r,E))}}}),(q&&e.defaultValue!==e.value||ve(a)==null&&e.value)&&(v(O(e)?V(e.value):e.value),A!==null&&u.add(A)),me(()=>{var o=a();if(e===document.activeElement){var c=he??A;if(u.has(c))return}O(e)&&o===V(e.value)||e.type==="date"&&!o&&!e.value||o!==e.value&&(e.value=o??"")})}function O(e){var a=e.type;return a==="number"||a==="range"}function V(e){return e===""?null:+e}var $e=I('<button class="cancelButton svelte-1uha8ag"><span class="material-symbols-outlined" translate="no">cancel</span></button>'),Ce=I('<div class="session svelte-1uha8ag"><h3> <!></h3></div>'),Oe=I('<form><h3>Enter Session Name</h3> <input id="newSessionInput" required type="text" placeholder="Type here"/> <input type="submit" value="Add"/> <button class="cancelButton" title="Cancel"><span class="material-symbols-outlined" translate="no">cancel</span></button> <p>*Session name is case sensitive</p></form>'),Ve=I("<h3><i>None selected</i></h3>"),qe=I('<h3 id="buttons"><button><span title="Add Session" translate="no" class="material-symbols-outlined">add_circle</span></button><button><span title="Confirm Sessions" translate="no" class="material-symbols-outlined">check_circle</span></button></h3> <p>If you wish to see overall user statistics, confirm without selecting any sessions. Use the <span>ESC</span> keybind to confirm, or use the button.</p>',1),He=I('<h4 style="position: absolute; top: 5px; right: 20px"><span style="font-weight: 700" translate="no" class="material-symbols-outlined">lock</span></h4>'),Re=I(`<div class="field svelte-1uha8ag"><h2>Slack ID</h2> <form><h3>Enter Slack ID</h3> <input required type="text" placeholder="Type here" id="idInput"/> <input type="submit" value="Enter ID"/> <p>If you're not sure what the ID of an user is, use the <i>#what-is-my-slack-id</i> channel!</p></form></div>`),Ue=I('<h1 id="title">AFTONSPARV</h1> <h3 style="font-weight: 200; margin-bottom: 80px;">Hackatime Viewer</h3> <div class="field svelte-1uha8ag"><h2>Hackatime Sessions</h2> <!> <!> <!> <!> <!></div> <!>',1);function Ke(e,a){_e(a,!0);let v=T(!1),u=T(!0),o=T(""),c=T(""),h=T(!1);pe(()=>{t(h)&&d(u,!1)});let r=T(ye([]));W(function(){setTimeout(()=>{d(v,!0)},100),setTimeout(()=>{document.getElementById("newSessionInput").focus()},200)});function B(){event.preventDefault(),t(r).indexOf(t(o))==-1&&(t(r).push(t(o)),d(o,""),d(u,!1),setTimeout(()=>{d(u,!0)},500),setTimeout(()=>{document.getElementById("newSessionInput").focus(),scrollTo(document.getElementById("newSessionInput").y)},600))}function E(f){let _=[];for(let S=0;S<t(r).length;S++)t(r)[S]!=f&&_.push(t(r)[S]);d(r,_,!0)}function X(){scrollTo(document.getElementById("idInput").y);let f="";if(t(r).length>1)for(let _=0;_<t(r).length;_++)f+=t(r)[_]+"[x]";else t(r).length==1&&(f=t(r)[0]);window.location.href=Ne+"/"+t(c)+"/"+f}W(function(){window.addEventListener("keydown",function(f){f.key=="Escape"&&d(h,!0),this.setTimeout(()=>{this.document.getElementById("idInput").focus(),this.scrollTo(this.document.getElementById("idInput")).y},100)})});var H=Be();we("1uha8ag",f=>{ge(()=>{Ie.title="Aftonsparv"})});var Z=$(H);{var j=f=>{var _=Ue(),S=$(_),N=i(S,4),R=i(b(N),2);Te(R,17,()=>t(r),xe,(s,n)=>{var l=Ce(),m=b(l),y=b(m),w=i(y);{var M=D=>{var P=$e();P.__click=()=>{E(t(n))},p(D,P)};k(w,D=>{t(h)||D(M)})}g(m),g(l),Se(()=>Ee(y,`${t(n)??""} `)),x(3,l,()=>L),p(s,l)});var U=i(R,2);{var ee=s=>{var n=Oe(),l=i(b(n),2);J(l);var m=i(l,2),y=i(m,2);y.__click=()=>{d(u,!1)},C(2),g(n),Y("submit",n,B),Q(l,()=>t(o),w=>d(o,w)),x(3,n,()=>L),p(s,n)};k(U,s=>{t(u)&&s(ee)})}var F=i(U,2);{var te=s=>{var n=Ve();p(s,n)};k(F,s=>{t(r).length==0&&!t(u)&&s(te)})}var G=i(F,2);{var ae=s=>{var n=qe(),l=$(n),m=b(l);m.__click=()=>{d(u,!0),setTimeout(()=>{document.getElementById("newSessionInput").focus()},100)};var y=i(m);y.__click=()=>{d(h,!0),setTimeout(()=>{document.getElementById("idInput").focus(),scrollTo(document.getElementById("idInput").y)},100)},g(l);var w=i(l,2),M=i(b(w));Ae(M,"",{},{"font-family":"Montserrat, Space Grotesk, Futura","font-weight":"700"}),C(),g(w),p(s,n)};k(G,s=>{t(h)||s(ae)})}var se=i(G,2);{var ne=s=>{var n=He();x(3,n,()=>L,()=>({axis:"x"})),p(s,n)};k(se,s=>{t(h)&&s(ne)})}g(N);var oe=i(N,2);{var re=s=>{var n=Re(),l=i(b(n),2),m=i(b(l),2);J(m),i(m,2),C(2),g(l),g(n),Y("submit",l,X),Q(m,()=>t(c),y=>d(c,y)),x(3,n,()=>z,()=>({y:200})),p(s,n)};k(oe,s=>{t(h)&&s(re)})}x(3,S,()=>L),x(3,N,()=>z,()=>({y:200,delay:500})),p(f,_)};k(Z,f=>{t(v)&&f(j)})}p(e,H),be()}ke(["click"]);export{Ke as component};
